INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:30:26] "POST /api/authentication HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:30:41] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E687D71D0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687D7190>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070105Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070105Z
20250214/us-east-1/lex/aws4_request
d81e87439e5e49294f3ab1472fe7586951abeb8eee9d46567c4ff45ccdd179a8
DEBUG:botocore.auth:Signature:
b61b0cb548b98ab4c697fe13e49891683fab3dbb0004e4206ad5376d63f976c8
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070105Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=b61b0cb548b98ab4c697fe13e49891683fab3dbb0004e4206ad5376d63f976c8', 'amz-sdk-invocation-id': b'd2c1ceba-1f3b-45e4-bd11-48a212af0d7f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'bad755ef-1268-4aed-bc30-02553fd004c9', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:01:23 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E687DBFD0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:31:23] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E66E4EC90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687F7850>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070203Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070203Z
20250214/us-east-1/lex/aws4_request
a1e8b08fa0be0818af67856ad13d9866ad8e1a10b48cb7f6057ee08283f8236e
DEBUG:botocore.auth:Signature:
76072db2a0438f892b0c277241f2a750ae5aaca73ca7290ab46b926b0c4b32fc
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070203Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=76072db2a0438f892b0c277241f2a750ae5aaca73ca7290ab46b926b0c4b32fc', 'amz-sdk-invocation-id': b'a654ee9a-16bd-49d3-8a9a-82a56deb2969', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1101
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '5d755750-dc0e-4c80-bad0-16220fbe6dab', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:02:18 GMT', 'Content-Type': 'application/json', 'Content-Length': '1101', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.34}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.27}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E68802E90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:32:18] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E687FFF90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687FE6D0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070232Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070232Z
20250214/us-east-1/lex/aws4_request
4c9956f79d234b6786a4b29724c6721ce82aa1a709f53bf3567f5ddfa7f9a419
DEBUG:botocore.auth:Signature:
480951b30334ebbcfb15678fcff6a883e2ba9b9cc1c23eb2097df63f3e93c769
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070232Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=480951b30334ebbcfb15678fcff6a883e2ba9b9cc1c23eb2097df63f3e93c769', 'amz-sdk-invocation-id': b'43c502d1-0159-467a-9846-056b8026cf40', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'ab8a18c6-8741-428f-8ce2-394adccb872f', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:02:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.23}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E68801E50>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:32:45] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E687FC710>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687FD6D0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070247Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070247Z
20250214/us-east-1/lex/aws4_request
12acb8264d453b253769bd02340335d5e1df0eb927674c2bdb6faabcf0555238
DEBUG:botocore.auth:Signature:
b78e6a70a7398a6afbacf7fdc1b5b8bd9e5612849bd8734aee32ea9474c7be5a
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070247Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=b78e6a70a7398a6afbacf7fdc1b5b8bd9e5612849bd8734aee32ea9474c7be5a', 'amz-sdk-invocation-id': b'c77c504c-24e7-42cf-b644-61e5f7a6c288', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '24a306bd-ad13-4286-a6d8-248339b3c21e', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:03:00 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E6880B790>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:33:01] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "Time Off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E660D2290>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E65D70D90>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070324Z

content-type;host;x-amz-date
c6724826038d3261a1ef218f46c8620b48994225eb37eab2e18a8be162a099c1
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070324Z
20250214/us-east-1/lex/aws4_request
2ab886a9cb7f4b406f1289b8ce6ecedfe35f8dfa3586dfdcd24a36f5e63f908d
DEBUG:botocore.auth:Signature:
7a222f1b2ced0bfab86e5dbb0ccd214823d50176efb666b6e6de95147a1d15b9
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070324Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=7a222f1b2ced0bfab86e5dbb0ccd214823d50176efb666b6e6de95147a1d15b9', 'amz-sdk-invocation-id': b'15890800-d82d-4d27-8bfc-1dc2e79f7c4f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '87be25f2-74ef-46d6-b02a-c6be83d3d552', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:03:37 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}}],"messages":[{"content":"Please Enter PayCode from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"slotToElicit":"payCode","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E687A9F10>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:33:38] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "ABC Vacation Hour"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E687C3DD0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687C2F50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070359Z

content-type;host;x-amz-date
e667422eeae0ccb9ade35bc3ef26ab8df0121fe922946b678c490cf5e24f7a4f
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070359Z
20250214/us-east-1/lex/aws4_request
cb6bed93ec4fa3bf36d8766d0914ea631e394389b42b08ece72484d43cf19173
DEBUG:botocore.auth:Signature:
9555dafb4ad9f8440ac93721109b62ce2cfc7b0586a314b673c726b62a348fe2
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070359Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=9555dafb4ad9f8440ac93721109b62ce2cfc7b0586a314b673c726b62a348fe2', 'amz-sdk-invocation-id': b'0615c69b-9d4b-48ef-8118-6be03b634236', 'amz-sdk-request': b'attempt=1', 'Content-Length': '29'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1479
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '0c60269b-ad4c-47f4-9a47-49db62aa0ba8', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:04:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '1479', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex"}],"messages":[{"content":"Applying for time off from 2025-02-18 till 2025-02-20, under ABC Vacation Hour - Please Confirm or Reject","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"type":"ConfirmIntent"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E687C0E90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:34:12] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000023E66CDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000023E66D12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000023E66C2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000023E66D10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000023E66D12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000023E66CDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000023E66D12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000023E66D11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "yes"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000023E687C1990>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000023E687C2A10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000023E66CDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T070422Z

content-type;host;x-amz-date
50073bfa3dfb59660f90b3ba8d30b4eed28e93c133e51d2a5986ce3e4e7c2072
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T070422Z
20250214/us-east-1/lex/aws4_request
136f503dad7f6e26a6fff4e075bfd9deaba4e33e3d0709ce24adf8110efd706a
DEBUG:botocore.auth:Signature:
618a85adaf76060dcef20049ad4a08300884c66311a46470de2bedeaf71b12fa
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000023E66D12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T070422Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=618a85adaf76060dcef20049ad4a08300884c66311a46470de2bedeaf71b12fa', 'amz-sdk-invocation-id': b'fc38a93e-50c2-4fbd-abb4-fcf5f94bde2b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '15'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-12-30-41-143774/text HTTP/1.1" 200 1825
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '2fb2f5f6-0473-4bed-b71e-b269870ac2aa', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:04:35 GMT', 'Content-Type': 'application/json', 'Content-Length': '1825', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"Confirmed","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"Fulfilled"},"nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.41}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.27}}],"messages":[{"content":"Apply Time Off Triggered In WFM","contentType":"PlainText"}],"requestAttributes":{},"sessionId":"AnthonyRAllen2025-02-14-12-30-41-143774","sessionState":{"dialogAction":{"type":"Close"},"intent":{"confirmationState":"Confirmed","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"Fulfilled"},"originatingRequestId":"bad755ef-1268-4aed-bc30-02553fd004c9","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000023E6880AB10>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:34:36] "POST /api/chat HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 12:46:10] "[31m[1mPOST /api/chat HTTP/1.1[0m" 403 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:06:29] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002A2739DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002A273A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002A27392BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002A273A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002A273A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002A2739DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002A273A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002A273A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002A2753D70D0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002A2753D7090>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002A2739DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T073638Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T073638Z
20250214/us-east-1/lex/aws4_request
724fa07578cd3262f13dcd38ea68d89a8f4a548a4292f6fe632dc2c70b81a46b
DEBUG:botocore.auth:Signature:
e14957c77fade5691f88cc71247a2ec66dbb562d8a69f3bf809dbd4d752201a7
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002A273A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T073638Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=e14957c77fade5691f88cc71247a2ec66dbb562d8a69f3bf809dbd4d752201a7', 'amz-sdk-invocation-id': b'7c1cd644-256a-4579-8b30-e63213b7d14f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '57217272-3c55-4252-8588-bf7392d17f5c', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:36:51 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-06-29-757248","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"57217272-3c55-4252-8588-bf7392d17f5c","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002A2753F4050>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:06:51] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002A2739DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002A273A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002A27392BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002A273A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002A273A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002A2739DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002A273A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002A273A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002A2753FCB50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002A2753FD310>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002A2739DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T073657Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T073657Z
20250214/us-east-1/lex/aws4_request
9596fb7d7ed033084c814c7ddb11f39a21e5cfa36586631357882238b91e4a8e
DEBUG:botocore.auth:Signature:
69dc881c12a06804ebe7edffac116d858d88bbc7f4bcfde942ab8a912e7dfc78
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002A273A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T073657Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=69dc881c12a06804ebe7edffac116d858d88bbc7f4bcfde942ab8a912e7dfc78', 'amz-sdk-invocation-id': b'77e62d5a-0d01-48fc-8c49-ad17b1b831ae', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'd948ed8a-662f-43e5-b236-241768f26c12', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:37:11 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.38}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.21}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-06-29-757248","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"originatingRequestId":"57217272-3c55-4252-8588-bf7392d17f5c","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002A275606F50>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:07:10] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002A2739DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002A273A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002A27392BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002A273A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002A273A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002A2739DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002A273A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002A273A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "ABC Vacation Hour"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002A2753FE290>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002A2753FF590>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002A2739DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T073712Z

content-type;host;x-amz-date
e667422eeae0ccb9ade35bc3ef26ab8df0121fe922946b678c490cf5e24f7a4f
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T073712Z
20250214/us-east-1/lex/aws4_request
180f231b78bc0f09e8405a96e461fbac6a305addf89c0f04c47cabb411d98e39
DEBUG:botocore.auth:Signature:
80dc62db81a1d9e14ad65983ceda7d93d895f9b3b3cc9faa9ee454952743c56b
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002A273A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T073712Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=80dc62db81a1d9e14ad65983ceda7d93d895f9b3b3cc9faa9ee454952743c56b', 'amz-sdk-invocation-id': b'9acc5c41-01d4-4ab4-88a7-a95e1f590d31', 'amz-sdk-request': b'attempt=1', 'Content-Length': '29'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '8857476d-3cdb-4140-a070-2996b0a30585', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:37:26 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.46}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.35}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.32}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-06-29-757248","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"originatingRequestId":"57217272-3c55-4252-8588-bf7392d17f5c","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002A2756051D0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:07:25] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002A2739DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002A273A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002A27392BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002A273A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002A273A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002A2739DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002A273A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002A273A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002A275606C50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002A275606C10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002A2739DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T073731Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T073731Z
20250214/us-east-1/lex/aws4_request
f6c8fdf6027dd68345f7a4473429827f6cf7b3513b51507ab1c6467c09c98df0
DEBUG:botocore.auth:Signature:
7471a25dc498b36bc729a4a927124d9bd783b7e6f7e001f989868ee8a7b80298
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002A273A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T073731Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=7471a25dc498b36bc729a4a927124d9bd783b7e6f7e001f989868ee8a7b80298', 'amz-sdk-invocation-id': b'ec4e67cd-5bdd-4a0e-905b-43d62d3cb53a', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-06-29-757248/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '279d0247-c446-4e6f-a32e-d551ec073dd7', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:37:44 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-06-29-757248","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}},"state":"InProgress"},"originatingRequestId":"57217272-3c55-4252-8588-bf7392d17f5c","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002A275608350>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:07:45] "[31m[1mPOST /api/chat HTTP/1.1[0m" 400 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\test.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:13:41] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002702D9DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002702DA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002702D92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002702DA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002702DA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002702D9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002702DA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002702DA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002702F3D6F50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002702F3D6F10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002702D9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074348Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074348Z
20250214/us-east-1/lex/aws4_request
850b65f147c9124b4e9bc87ce6dad4cd85c69357248737ca38fb8e08ef9df1e4
DEBUG:botocore.auth:Signature:
6dfb689e84becafba29ad80d08787986bf5561d46518c99d5457af2818b0c087
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002702DA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074348Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=6dfb689e84becafba29ad80d08787986bf5561d46518c99d5457af2818b0c087', 'amz-sdk-invocation-id': b'8ca0f66a-a01f-45ef-9ea6-7dea5c839b41', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '8a45c704-366e-41f2-9f41-bbc726b69f86', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:44:01 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-13-41-170063","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"8a45c704-366e-41f2-9f41-bbc726b69f86","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002702F3F4090>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:14:00] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002702D9DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002702DA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002702D92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002702DA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002702DA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002702D9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002702DA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002702DA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002702F3FD450>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002702F3FDB50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002702D9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074405Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074405Z
20250214/us-east-1/lex/aws4_request
8898c536902738d933fa584bc97d41197d070ef9be746c9cc2dda1a8f69b6247
DEBUG:botocore.auth:Signature:
af0158928daa198aefee12cf22dce04ec351598cbc3f2ebe7c2e67eb325c551b
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002702DA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074405Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=af0158928daa198aefee12cf22dce04ec351598cbc3f2ebe7c2e67eb325c551b', 'amz-sdk-invocation-id': b'9a3d5a80-d71c-4645-ac9a-a9dec775e23d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'b43accdf-7d9b-4a9c-97b1-aeee77af3a6a', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:44:18 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.23}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-13-41-170063","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"8a45c704-366e-41f2-9f41-bbc726b69f86","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002702F606D90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:14:17] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000002702D9DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000002702DA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000002702D92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000002702DA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000002702DA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000002702D9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000002702DA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000002702DA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000002702F3FE810>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000002702F3FFD50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000002702D9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074419Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074419Z
20250214/us-east-1/lex/aws4_request
de8d163dfc4ad27519d15de23eef9b20be52d210eb5295bace094fe5bc766e49
DEBUG:botocore.auth:Signature:
c8ec0bca77475092bf42a85ffa860d0fccce0a8be14158d341005e23ed0755f8
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000002702DA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074419Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=c8ec0bca77475092bf42a85ffa860d0fccce0a8be14158d341005e23ed0755f8', 'amz-sdk-invocation-id': b'a96e39c6-5f31-49f9-953d-45948a92c443', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-13-41-170063/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '02c303a1-1f85-4249-8f79-f3ca610beb5e', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:44:32 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-13-41-170063","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"8a45c704-366e-41f2-9f41-bbc726b69f86","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000002702F606110>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:14:33] "[31m[1mPOST /api/chat HTTP/1.1[0m" 400 -
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:18:21] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000016F7A9DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000016F7AA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000016F7A92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000016F7AA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000016F7AA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000016F7A9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000016F7AA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000016F7AA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000016F7C4D6E90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000016F7C4D6E50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000016F7A9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074826Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074826Z
20250214/us-east-1/lex/aws4_request
bb1c6fb18d5f63b0e966e642e80ffb287ab0ae1d74c85bc99aa4a2cb8a9f198b
DEBUG:botocore.auth:Signature:
293895b1fe8e57a975b0cdf386f1a316b0411a8727e5f92c7ef792c74a7259ae
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000016F7AA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074826Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=293895b1fe8e57a975b0cdf386f1a316b0411a8727e5f92c7ef792c74a7259ae', 'amz-sdk-invocation-id': b'31a3a848-0ad3-4e7a-9fdb-52e7158ee4e2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '8ca354b8-1f34-4ec5-9a5d-3eba7584e643', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:48:39 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-18-21-464682","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"8ca354b8-1f34-4ec5-9a5d-3eba7584e643","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000016F7C4DBE90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:18:38] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000016F7A9DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000016F7AA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000016F7A92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000016F7AA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000016F7AA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000016F7A9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000016F7AA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000016F7AA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000016F7C4FDA10>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000016F7C4FCF50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000016F7A9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074841Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074841Z
20250214/us-east-1/lex/aws4_request
86356d1db02b5fb9714a28251ea45634a5be06e3b767f1b2df7479ef1984dd6f
DEBUG:botocore.auth:Signature:
ceb837dd95546bbda5ebe27e13a751bfe322f587f1bcc16eb789917d223c8789
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000016F7AA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074841Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=ceb837dd95546bbda5ebe27e13a751bfe322f587f1bcc16eb789917d223c8789', 'amz-sdk-invocation-id': b'9bc037fe-d04b-49fd-92d4-f05e41867df9', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'bbab8a4f-631e-4f5f-ab74-b3d0ef1dedb5', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:48:54 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.23}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-18-21-464682","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"8ca354b8-1f34-4ec5-9a5d-3eba7584e643","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000016F7C506B10>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:18:54] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x0000016F7A9DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x0000016F7AA12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x0000016F7A92BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x0000016F7AA10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x0000016F7AA12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x0000016F7A9DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x0000016F7AA12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x0000016F7AA11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x0000016F7C4EF110>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000016F7C4EF090>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x0000016F7A9DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T074856Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T074856Z
20250214/us-east-1/lex/aws4_request
fe3f24eafc10c72244c82e1493e9a98a810a9af766168beb5e9418fb6952335d
DEBUG:botocore.auth:Signature:
99f195424d264b60a6ec8b318b6cd81f53d004af9eb4d9d5f25ad4fd0342a50b
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x0000016F7AA12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T074856Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=99f195424d264b60a6ec8b318b6cd81f53d004af9eb4d9d5f25ad4fd0342a50b', 'amz-sdk-invocation-id': b'7493c047-dcb2-4b81-928c-20547fc5f9bd', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-18-21-464682/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '4beaa0ab-89f3-4fa7-bf66-3ab515635db9', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:49:10 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-18-21-464682","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"8ca354b8-1f34-4ec5-9a5d-3eba7584e643","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x0000016F7C50FE50>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:19:10] "[31m[1mPOST /api/chat HTTP/1.1[0m" 400 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\routes\\chat.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:21:28] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001D8BC2DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001D8BC316200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001D8BC22BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001D8BC314040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001D8BC316B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001D8BC2DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001D8BC316AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001D8BC315B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001D8BCCD7050>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001D8BCCD7010>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001D8BC2DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075135Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075135Z
20250214/us-east-1/lex/aws4_request
11bb152da139216e682b49c6c8be8c98e77e977c632a6ce2d59ca864926817fc
DEBUG:botocore.auth:Signature:
d417362c87b0087db63eb3a12cd4f8df1bf46c8c25d2642ec5bfcbffd529f4f2
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001D8BC316340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075135Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=d417362c87b0087db63eb3a12cd4f8df1bf46c8c25d2642ec5bfcbffd529f4f2', 'amz-sdk-invocation-id': b'5f1ebcf5-7bf4-47d4-8b61-ac13fa13c99c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text HTTP/1.1" 200 1362
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '1a2b3eda-32a1-488f-a6e1-ab17f8a5c9d4', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:51:48 GMT', 'Content-Type': 'application/json', 'Content-Length': '1362', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.89}},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.72}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.41}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-21-28-896524","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"1a2b3eda-32a1-488f-a6e1-ab17f8a5c9d4","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001D8BCCF0150>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:21:48] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001D8BC2DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001D8BC316200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001D8BC22BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001D8BC314040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001D8BC316B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001D8BC2DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001D8BC316AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001D8BC315B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001D8BCCFC8D0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001D8BCCFEB10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001D8BC2DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075153Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075153Z
20250214/us-east-1/lex/aws4_request
34ded39fd1c738e53df6f6eb08d2eb205d4c68e187817fadfac3ef6bebc7d805
DEBUG:botocore.auth:Signature:
7465a0fc25bb490a4fba23a4ecea41ca6525d9135d0c735726479097d6e1f92d
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001D8BC316340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075153Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=7465a0fc25bb490a4fba23a4ecea41ca6525d9135d0c735726479097d6e1f92d', 'amz-sdk-invocation-id': b'a7a889eb-5102-4e7c-a63c-9df87a3bb2bd', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-21-28-896524/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '1f2a3e8d-de8f-4d4b-b543-169f84f51b02', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:52:06 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-21-28-896524","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"1a2b3eda-32a1-488f-a6e1-ab17f8a5c9d4","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001D8BCD08210>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:22:06] "[31m[1mPOST /api/chat HTTP/1.1[0m" 400 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:23:13] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001ECE9FDE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001ECEB016200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001ECE9F2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001ECEB014040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001ECEB016B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001ECE9FDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001ECEB016AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001ECEB015B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001ECEB9D6F50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001ECEB9D6F10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001ECE9FDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075319Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075319Z
20250214/us-east-1/lex/aws4_request
6305d893d7119d5eeb51e8e21bd7961753bb2d2b7ab4cb327f2233e9560b6709
DEBUG:botocore.auth:Signature:
397f5c49546f181da2e73cc49a7206e00c490e0ab927c205245ff7e077d83174
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001ECEB016340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075319Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=397f5c49546f181da2e73cc49a7206e00c490e0ab927c205245ff7e077d83174', 'amz-sdk-invocation-id': b'22b96232-d54a-4f5a-bb08-60370417f3ee', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text HTTP/1.1" 200 1362
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'f0a806df-1dba-4739-81d1-c23e191026e4', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:53:32 GMT', 'Content-Type': 'application/json', 'Content-Length': '1362', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.89}},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.72}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.41}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-23-13-254122","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"f0a806df-1dba-4739-81d1-c23e191026e4","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001ECEB9DBF90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:23:32] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001ECE9FDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001ECEB016200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001ECE9F2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001ECEB014040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001ECEB016B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001ECE9FDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001ECEB016AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001ECEB015B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001ECEB9F2E90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001ECEB9FD590>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001ECE9FDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075334Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075334Z
20250214/us-east-1/lex/aws4_request
a1a94d36067e5af2da8634dddec58c504e9a10faad4c91c3e972e0aa07f64b52
DEBUG:botocore.auth:Signature:
feacd2146a346fd58b28c8345a363bc3237f758732cfff276b8d1bdcde91dab1
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001ECEB016340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075334Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=feacd2146a346fd58b28c8345a363bc3237f758732cfff276b8d1bdcde91dab1', 'amz-sdk-invocation-id': b'9b8030fb-b000-4594-8ea3-79832eb19b66', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '53e68c7e-3f8b-4a3e-adc5-a3905991cd11', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:53:47 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-23-13-254122","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"f0a806df-1dba-4739-81d1-c23e191026e4","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001ECEBC08250>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:23:48] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001ECE9FDE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001ECEB016200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001ECE9F2BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001ECEB014040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001ECEB016B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001ECE9FDEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001ECEB016AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001ECEB015B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "Time Off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001ECEB9F2190>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001ECEB9F2090>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001ECE9FDFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075418Z

content-type;host;x-amz-date
c6724826038d3261a1ef218f46c8620b48994225eb37eab2e18a8be162a099c1
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075418Z
20250214/us-east-1/lex/aws4_request
e9fc0f9f2f46a50d938151e373feb645e23fe94057d97a8e17af8decb22a722a
DEBUG:botocore.auth:Signature:
f26d7c0bc8cf36db88fa2cc1f6d0fb81d9527aef049ea889a0fc59c9489e9487
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001ECEB016340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075418Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=f26d7c0bc8cf36db88fa2cc1f6d0fb81d9527aef049ea889a0fc59c9489e9487', 'amz-sdk-invocation-id': b'25a9b2ba-02eb-426d-9df8-bfc7f4fca7a2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-23-13-254122/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'db08c017-4a42-4b4d-9a67-0b9dd0b29120', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:54:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}}],"messages":[{"content":"Please Enter PayCode from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-23-13-254122","sessionState":{"dialogAction":{"slotToElicit":"payCode","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"f0a806df-1dba-4739-81d1-c23e191026e4","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001ECEBC0BA10>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:24:32] "POST /api/chat HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5050
 * Running on http://192.168.1.13:5050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:26:58] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FF859DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001FF85A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001FF8592BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001FF85A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001FF85A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001FF859DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001FF85A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001FF85A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FF873D7010>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FF873D6FD0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001FF859DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075703Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075703Z
20250214/us-east-1/lex/aws4_request
30fddcfd19413c85a951f4518c637f641cd2fa15426761f8ca8389fa31eac02e
DEBUG:botocore.auth:Signature:
26a9b865adeec75b1087af2e415f63200ac6a017869f718013f70ecd7519abba
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001FF85A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075703Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=26a9b865adeec75b1087af2e415f63200ac6a017869f718013f70ecd7519abba', 'amz-sdk-invocation-id': b'40179241-906a-46cc-b560-e1bd655a272e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '71ab802b-5de1-44ac-95b0-747e2daec549', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:57:16 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-26-58-337891","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"71ab802b-5de1-44ac-95b0-747e2daec549","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001FF873DBFD0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:27:15] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FF859DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001FF85A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001FF8592BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001FF85A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001FF85A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001FF859DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001FF85A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001FF85A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FF873FDB10>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FF873FD290>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001FF859DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075717Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075717Z
20250214/us-east-1/lex/aws4_request
66f85e46b2b4a7571b60c72d3193c39bd282175e4875ba08ca301a4e58731a1e
DEBUG:botocore.auth:Signature:
6330093472aa37100815b71911bc3f4912355edb98a1f21615de275f6efcf3e7
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001FF85A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075717Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=6330093472aa37100815b71911bc3f4912355edb98a1f21615de275f6efcf3e7', 'amz-sdk-invocation-id': b'3efc731f-2bc4-4d26-be79-f3ff9206c837', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '01c6c463-553e-4eab-804d-8c730de1a056', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:57:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.23}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-26-58-337891","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"71ab802b-5de1-44ac-95b0-747e2daec549","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001FF876031D0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:27:30] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FF859DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001FF85A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001FF8592BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001FF85A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001FF85A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001FF859DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001FF85A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001FF85A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "Time Off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FF873EFC10>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FF873EFAD0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001FF859DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075736Z

content-type;host;x-amz-date
c6724826038d3261a1ef218f46c8620b48994225eb37eab2e18a8be162a099c1
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075736Z
20250214/us-east-1/lex/aws4_request
ce0d2c84d22645a701e032e9c537c7978366322942075f980c14226cead64ad7
DEBUG:botocore.auth:Signature:
928adca16bc650482157f62c569525d9d69945c39b6e9348b1dc5dc76a8b33dd
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001FF85A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075736Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=928adca16bc650482157f62c569525d9d69945c39b6e9348b1dc5dc76a8b33dd', 'amz-sdk-invocation-id': b'ad9e74d6-4c56-437f-9cb4-d863970c3996', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '2c82d88e-4f26-4607-a9bd-1fa98877b4e7', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:57:49 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.51}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.33}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.29}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-26-58-337891","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"71ab802b-5de1-44ac-95b0-747e2daec549","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001FF87602390>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:27:49] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FF859DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001FF85A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001FF8592BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001FF85A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001FF85A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001FF859DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001FF85A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001FF85A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FF87602E90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FF87603150>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001FF859DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075753Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075753Z
20250214/us-east-1/lex/aws4_request
58c5e6e1024f3b617f42ca6129fda5cd1b7e039ab3cb49c6a1b42430dcfbcb5c
DEBUG:botocore.auth:Signature:
7b6969289054691fa0545e61b824a2d63fd321e70f6e3fbbc1e9b1738d9e8665
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001FF85A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075753Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=7b6969289054691fa0545e61b824a2d63fd321e70f6e3fbbc1e9b1738d9e8665', 'amz-sdk-invocation-id': b'ed9364dc-1e23-41e2-ba1b-401855b0ec89', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'e3301482-6ee1-4a45-b39a-6e99506aeb24', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:58:07 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-26-58-337891","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"71ab802b-5de1-44ac-95b0-747e2daec549","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001FF8760AA90>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:28:07] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FF859DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001FF85A12200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001FF8592BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001FF85A10040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001FF85A12B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001FF859DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001FF85A12AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001FF85A11B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "Time Off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FF87611450>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FF87611510>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001FF859DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T075818Z

content-type;host;x-amz-date
c6724826038d3261a1ef218f46c8620b48994225eb37eab2e18a8be162a099c1
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T075818Z
20250214/us-east-1/lex/aws4_request
3556ef24d967b71962b1fa6cd9fc2b39f01c3884c2840c010c97e2b7b81f5ecf
DEBUG:botocore.auth:Signature:
65bd3665d1dde9b3aa8659a035ffbf00a56fa14646a31f32ea1d077c59d008e7
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001FF85A12340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T075818Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=65bd3665d1dde9b3aa8659a035ffbf00a56fa14646a31f32ea1d077c59d008e7', 'amz-sdk-invocation-id': b'14029d4a-79de-4dc8-8792-55a0d1aa091f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-26-58-337891/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '9f4a2c62-2603-4da2-8ce6-d63aa406493b', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 07:58:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}}],"messages":[{"content":"Please Enter PayCode from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-26-58-337891","sessionState":{"dialogAction":{"slotToElicit":"payCode","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"71ab802b-5de1-44ac-95b0-747e2daec549","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001FF87609950>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:28:32] "POST /api/chat HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug: * Detected change in 'C:\\Users\\LQ855NN\\Desktop\\wfmbot\\wfmflaskapp\\app\\services\\function.py', reloading
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 140-320-139
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:33:55] "POST /api/authentication HTTP/1.1" 200 -
DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\endpoints.json
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\sdk-default-configuration.json
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\service-2.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\lexv2-runtime\2020-08-07\endpoint-rule-set-1.json.gz
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\partitions.json
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.loaders:Loading JSON file: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\data\_retry.json
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "apply time off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114BF73D0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114BF7390>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080403Z

content-type;host;x-amz-date
0bdbde91aa4a7b08358eb2cc26c39c52b382017ae731a67dadb34c8ed28c7797
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080403Z
20250214/us-east-1/lex/aws4_request
59838cc2455f26acafe03f4ed722602cdb3da2ff10f317d0b9440bd32a8d7d63
DEBUG:botocore.auth:Signature:
f83be1273fdb1c075044230dd18832674e302744cf14d744d0ae86ae6d5643e3
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080403Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=f83be1273fdb1c075044230dd18832674e302744cf14d744d0ae86ae6d5643e3', 'amz-sdk-invocation-id': b'e7df9b9d-c463-4200-9375-443db098383c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '26'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1102
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '6ce43ade-0a56-450c-9073-52c357161633', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:04:16 GMT', 'Content-Type': 'application/json', 'Content-Length': '1102', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":0.9}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.53}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.42}}],"messages":[{"content":"From When do you wish to apply for time off ? ","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"slotToElicit":"sdate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":null},"state":"InProgress"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C114C10310>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:34:15] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "18th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114C13150>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114C130D0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080419Z

content-type;host;x-amz-date
0847197e3b5bb2e11898aad0966f2b1796114e020daa12c28675906b384829d5
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080419Z
20250214/us-east-1/lex/aws4_request
da16d8fa9b5ebbd6885557731b4579efe0d55d443e0f7388dd277a3a0c55e056
DEBUG:botocore.auth:Signature:
7f0833df64ad4bcdd88caecd328e2fb3010943779dc24552efce435ee77983be
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080419Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=7f0833df64ad4bcdd88caecd328e2fb3010943779dc24552efce435ee77983be', 'amz-sdk-invocation-id': b'f0cf3cf1-ef3b-414e-a7e9-ba4478614aef', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1361
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'e64bf4e3-b489-48ff-b51e-8b2d11f85368', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:04:32 GMT', 'Content-Type': 'application/json', 'Content-Length': '1361', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.45}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.23}}],"messages":[{"content":"Till when ?","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"slotToElicit":"edate","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":null,"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C114C271D0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:34:32] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "20th feb"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114C2CE50>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114C2CD50>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080434Z

content-type;host;x-amz-date
e1ce8af7f27afd7c7653ba2371ffcd49b6f31f6bc4a4290a079b91562f6e6c20
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080434Z
20250214/us-east-1/lex/aws4_request
55908cb27ce82c777ddb6bc00770b267c527650ba7cd2673922cdfcd85abb3a7
DEBUG:botocore.auth:Signature:
497222ef5ceb5fcf4641e7ba96de04701347d7b945883a6d46a9f5c39eb516b2
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080434Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=497222ef5ceb5fcf4641e7ba96de04701347d7b945883a6d46a9f5c39eb516b2', 'amz-sdk-invocation-id': b'46f17b2d-cbbb-4164-9013-5d7a27b63a91', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1603
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'd2e1f978-5a67-4255-9398-b05121865bf2', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:04:47 GMT', 'Content-Type': 'application/json', 'Content-Length': '1603', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"getSchedule","slots":{"date":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}}}},"interpretationSource":"Lex","nluConfidence":{"score":0.44}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.4}},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.28}}],"messages":[{"content":"Please Enter Request Subtype from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"slotToElicit":"requestSubtype","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":null,"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C114C1CFD0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:34:47] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "Time Off"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114C26ED0>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114C25AD0>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080523Z

content-type;host;x-amz-date
c6724826038d3261a1ef218f46c8620b48994225eb37eab2e18a8be162a099c1
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080523Z
20250214/us-east-1/lex/aws4_request
2f913006c7ddf50675674cd32945a35d19cd322a2ae97a4abadca0a45d916802
DEBUG:botocore.auth:Signature:
fb62bdc014561cbfb1bbbfd3258b6cf9715f5c1b69a7c363dfb351119f45f241
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080523Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=fb62bdc014561cbfb1bbbfd3258b6cf9715f5c1b69a7c363dfb351119f45f241', 'amz-sdk-invocation-id': b'b80d2985-166b-4d61-abe3-44262516862c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '20'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1263
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'aa2c4908-1c67-4dbf-a277-db5678b7df1d', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:05:36 GMT', 'Content-Type': 'application/json', 'Content-Length': '1263', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex","nluConfidence":{"score":1.0}}],"messages":[{"content":"Please Enter PayCode from the table below","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"slotToElicit":"payCode","type":"ElicitSlot"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":null,"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C114C2BF50>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:35:37] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "ABC Vacation Hour"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114C2CC90>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114C2C850>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080547Z

content-type;host;x-amz-date
e667422eeae0ccb9ade35bc3ef26ab8df0121fe922946b678c490cf5e24f7a4f
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080547Z
20250214/us-east-1/lex/aws4_request
d486d58e0b73bf00c04a85be72096425193935fbada15945650ac01548f307bf
DEBUG:botocore.auth:Signature:
499ba685b1c608b4810e093be2d1f069b17200538805b5afe2f41a893aa972a5
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080547Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=499ba685b1c608b4810e093be2d1f069b17200538805b5afe2f41a893aa972a5', 'amz-sdk-invocation-id': b'd573d9ba-8b94-4a2a-b84a-eb9463ba4be2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '29'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1479
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '76b5cf87-a829-4efe-9770-2bb0dbb8d73f', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:06:00 GMT', 'Content-Type': 'application/json', 'Content-Length': '1479', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"interpretationSource":"Lex"}],"messages":[{"content":"Applying for time off from 2025-02-18 till 2025-02-20, under ABC Vacation Hour - Please Confirm or Reject","contentType":"PlainText"}],"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"type":"ConfirmIntent"},"intent":{"confirmationState":"None","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"InProgress"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C114C2B250>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:36:00] "POST /api/chat HTTP/1.1" 200 -
DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001C1141DE7A0>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function remove_lex_v2_start_conversation at 0x000001C114216200>
DEBUG:botocore.hooks:Event creating-client-class.lex-runtime-v2: calling handler <function add_generate_presigned_url at 0x000001C11412BD80>
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: environment_global
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_service
DEBUG:botocore.configprovider:Looking for endpoint for lexv2-runtime via: config_global
DEBUG:botocore.configprovider:No configured endpoint found.
DEBUG:botocore.endpoint:Setting runtime-v2-lex timeout as (60, 60)
DEBUG:botocore.client:Registering retry handlers for service: lexv2-runtime
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function generate_idempotent_uuid at 0x000001C114214040>
DEBUG:botocore.hooks:Event before-parameter-build.lex-runtime-v2.RecognizeText: calling handler <function _handle_request_validation_mode_member at 0x000001C114216B60>
DEBUG:botocore.regions:Calling endpoint provider with parameters: {'Region': 'us-east-1', 'UseDualStack': False, 'UseFIPS': False}
DEBUG:botocore.regions:Endpoint provider result: https://runtime-v2-lex.us-east-1.amazonaws.com
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_recursion_detection_header at 0x000001C1141DEFC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function add_query_compatibility_header at 0x000001C114216AC0>
DEBUG:botocore.hooks:Event before-call.lex-runtime-v2.RecognizeText: calling handler <function inject_api_version_header_if_needed at 0x000001C114215B20>
DEBUG:botocore.endpoint:Making request for OperationModel(name=RecognizeText) with params: {'url_path': '/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16'}, 'body': b'{"text": "yes"}', 'url': 'https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001C114C2CB10>, 'has_streaming_input': False, 'auth_type': None, 'unsigned_payload': None}}
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001C114C2CC10>>
DEBUG:botocore.hooks:Event choose-signer.lex-runtime-v2.RecognizeText: calling handler <function set_operation_specific_signer at 0x000001C1141DFE20>
DEBUG:botocore.auth:Calculating signature using v4 auth.
DEBUG:botocore.auth:CanonicalRequest:
POST
/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text

content-type:application/json
host:runtime-v2-lex.us-east-1.amazonaws.com
x-amz-date:20250214T080606Z

content-type;host;x-amz-date
50073bfa3dfb59660f90b3ba8d30b4eed28e93c133e51d2a5986ce3e4e7c2072
DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20250214T080606Z
20250214/us-east-1/lex/aws4_request
769f87b617c084626f4fce7c28ff93341a78e1d2a3d93d7593524775882a2779
DEBUG:botocore.auth:Signature:
acf3f2a8b4ef6a203c84ecf8d79e1775442ad93f630b4f77ced71c676a1e480d
DEBUG:botocore.hooks:Event request-created.lex-runtime-v2.RecognizeText: calling handler <function add_retry_headers at 0x000001C114216340>
DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://runtime-v2-lex.us-east-1.amazonaws.com/bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text, headers={'Content-Type': b'application/json', 'User-Agent': b'Boto3/1.36.2 md/Botocore#1.36.16 ua/2.0 os/windows#10 md/arch#amd64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.36.16', 'X-Amz-Date': b'20250214T080606Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA2HVQ5PWYA7YVNM7L/20250214/us-east-1/lex/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=acf3f2a8b4ef6a203c84ecf8d79e1775442ad93f630b4f77ced71c676a1e480d', 'amz-sdk-invocation-id': b'34145f42-dd78-4ca9-9a08-ad322f00d45b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '15'}>
DEBUG:botocore.httpsession:Certificate path: C:\Users\LQ855NN\Desktop\wfmbot\wfmflaskapp\myenv\Lib\site-packages\botocore\cacert.pem
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): runtime-v2-lex.us-east-1.amazonaws.com:443
DEBUG:urllib3.connectionpool:https://runtime-v2-lex.us-east-1.amazonaws.com:443 "POST /bots/UJEIIO0VGD/botAliases/TSTALIASID/botLocales/en_US/sessions/AnthonyRAllen2025-02-14-13-33-55-035530/text HTTP/1.1" 200 1825
DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'c8f1cead-ae9e-48db-80e4-90608a1163db', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'Date': 'Fri, 14 Feb 2025 08:06:20 GMT', 'Content-Type': 'application/json', 'Content-Length': '1825', 'connection': 'keep-alive'}
DEBUG:botocore.parsers:Response body:
b'{"interpretations":[{"intent":{"confirmationState":"Confirmed","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"Fulfilled"},"nluConfidence":{"score":1.0}},{"intent":{"name":"FallbackIntent","slots":{}},"interpretationSource":"Lex"},{"intent":{"name":"PunchIn","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.41}},{"intent":{"name":"PunchOut","slots":{}},"interpretationSource":"Lex","nluConfidence":{"score":0.39}},{"intent":{"name":"getSchedule","slots":{"date":null}},"interpretationSource":"Lex","nluConfidence":{"score":0.27}}],"messages":[{"content":"Apply Time Off Triggered In WFM","contentType":"PlainText"}],"requestAttributes":{},"sessionId":"AnthonyRAllen2025-02-14-13-33-55-035530","sessionState":{"dialogAction":{"type":"Close"},"intent":{"confirmationState":"Confirmed","name":"applyTimeOff","slots":{"edate":{"value":{"interpretedValue":"2025-02-20","originalValue":"20th feb","resolvedValues":["2025-02-20"]}},"payCode":{"value":{"interpretedValue":"ABC Vacation Hour","originalValue":"ABC Vacation Hour","resolvedValues":[]}},"requestSubtype":{"value":{"interpretedValue":"Time Off","originalValue":"Time Off","resolvedValues":[]}},"sdate":{"value":{"interpretedValue":"2025-02-18","originalValue":"18th feb","resolvedValues":["2025-02-18"]}}},"state":"Fulfilled"},"originatingRequestId":"6ce43ade-0a56-450c-9073-52c357161633","sessionAttributes":{}}}'
DEBUG:botocore.hooks:Event needs-retry.lex-runtime-v2.RecognizeText: calling handler <botocore.retryhandler.RetryHandler object at 0x000001C11434BED0>
DEBUG:botocore.retryhandler:No retry needed.
INFO:werkzeug:127.0.0.1 - - [14/Feb/2025 13:36:21] "POST /api/chat HTTP/1.1" 200 -
